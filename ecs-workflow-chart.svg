<svg width="800" height="1200" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .box { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; rx: 8; ry: 8; }
      .decision { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; }
      .process { fill: #e8f5e8; stroke: #388e3c; stroke-width: 2; rx: 8; ry: 8; }
      .start-end { fill: #fce4ec; stroke: #c2185b; stroke-width: 2; rx: 20; ry: 20; }
      .text { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; dominant-baseline: middle; }
      .title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; text-anchor: middle; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .step-number { fill: #1976d2; font-family: Arial, sans-serif; font-size: 10px; font-weight: bold; text-anchor: middle; dominant-baseline: middle; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" class="title" fill="#1976d2">AWS ECS Deployment Workflow</text>
  
  <!-- Start -->
  <ellipse cx="400" cy="80" rx="80" ry="25" class="start-end" />
  <text x="400" y="80" class="text" fill="#c2185b">START</text>
  
  <!-- Step 1: Prerequisites -->
  <rect x="320" y="130" width="160" height="50" class="box" />
  <circle cx="340" cy="140" r="8" fill="#1976d2" />
  <text x="340" y="140" class="step-number" fill="white">1</text>
  <text x="400" y="155" class="text">Check Prerequisites</text>
  <text x="400" y="170" class="text" font-size="10">AWS CLI, Docker, Permissions</text>
  
  <!-- Step 2: Create Application -->
  <rect x="320" y="210" width="160" height="50" class="process" />
  <circle cx="340" cy="220" r="8" fill="#388e3c" />
  <text x="340" y="220" class="step-number" fill="white">2</text>
  <text x="400" y="235" class="text">Create Application</text>
  <text x="400" y="250" class="text" font-size="10">Write code & Dockerfile</text>
  
  <!-- Step 3: Build & Push Image -->
  <rect x="320" y="290" width="160" height="50" class="process" />
  <circle cx="340" cy="300" r="8" fill="#388e3c" />
  <text x="340" y="300" class="step-number" fill="white">3</text>
  <text x="400" y="315" class="text">Build & Push to ECR</text>
  <text x="400" y="330" class="text" font-size="10">Docker build & push</text>
  
  <!-- Step 4: Create ECS Cluster -->
  <rect x="320" y="370" width="160" height="50" class="box" />
  <circle cx="340" cy="380" r="8" fill="#1976d2" />
  <text x="340" y="380" class="step-number" fill="white">4</text>
  <text x="400" y="395" class="text">Create ECS Cluster</text>
  <text x="400" y="410" class="text" font-size="10">Fargate or EC2</text>
  
  <!-- Step 5: Create Task Definition -->
  <rect x="320" y="450" width="160" height="50" class="box" />
  <circle cx="340" cy="460" r="8" fill="#1976d2" />
  <text x="340" y="460" class="step-number" fill="white">5</text>
  <text x="400" y="475" class="text">Create Task Definition</text>
  <text x="400" y="490" class="text" font-size="10">Container specs & config</text>
  
  <!-- Step 6: Setup Networking -->
  <rect x="320" y="530" width="160" height="50" class="box" />
  <circle cx="340" cy="540" r="8" fill="#1976d2" />
  <text x="340" y="540" class="step-number" fill="white">6</text>
  <text x="400" y="555" class="text">Setup Networking</text>
  <text x="400" y="570" class="text" font-size="10">Security Groups & Subnets</text>
  
  <!-- Step 7: Create Service -->
  <rect x="320" y="610" width="160" height="50" class="process" />
  <circle cx="340" cy="620" r="8" fill="#388e3c" />
  <text x="340" y="620" class="step-number" fill="white">7</text>
  <text x="400" y="635" class="text">Create ECS Service</text>
  <text x="400" y="650" class="text" font-size="10">Deploy & manage tasks</text>
  
  <!-- Decision: Need Load Balancer? -->
  <polygon points="400,690 450,720 400,750 350,720" class="decision" />
  <text x="400" y="720" class="text" font-size="11">Need Load</text>
  <text x="400" y="735" class="text" font-size="11">Balancer?</text>
  
  <!-- Step 8a: Create ALB (Yes path) -->
  <rect x="520" y="695" width="160" height="50" class="process" />
  <circle cx="540" cy="705" r="8" fill="#388e3c" />
  <text x="540" y="705" class="step-number" fill="white">8a</text>
  <text x="600" y="720" class="text">Create Load Balancer</text>
  <text x="600" y="735" class="text" font-size="10">ALB + Target Group</text>
  
  <!-- Step 8b: Update Service with ALB -->
  <rect x="520" y="775" width="160" height="50" class="process" />
  <circle cx="540" cy="785" r="8" fill="#388e3c" />
  <text x="540" y="785" class="step-number" fill="white">8b</text>
  <text x="600" y="800" class="text">Update Service</text>
  <text x="600" y="815" class="text" font-size="10">Attach ALB to service</text>
  
  <!-- Step 9: Verify Deployment -->
  <rect x="320" y="870" width="160" height="50" class="box" />
  <circle cx="340" cy="880" r="8" fill="#1976d2" />
  <text x="340" y="880" class="step-number" fill="white">9</text>
  <text x="400" y="895" class="text">Verify Deployment</text>
  <text x="400" y="910" class="text" font-size="10">Check tasks & health</text>
  
  <!-- Step 10: Monitor & Scale -->
  <rect x="320" y="950" width="160" height="50" class="process" />
  <circle cx="340" cy="960" r="8" fill="#388e3c" />
  <text x="340" y="960" class="step-number" fill="white">10</text>
  <text x="400" y="975" class="text">Monitor & Scale</text>
  <text x="400" y="990" class="text" font-size="10">CloudWatch & Auto Scaling</text>
  
  <!-- End -->
  <ellipse cx="400" cy="1050" rx="80" ry="25" class="start-end" />
  <text x="400" y="1050" class="text" fill="#c2185b">SUCCESS!</text>
  
  <!-- Arrows -->
  <line x1="400" y1="105" x2="400" y2="130" class="arrow" />
  <line x1="400" y1="180" x2="400" y2="210" class="arrow" />
  <line x1="400" y1="260" x2="400" y2="290" class="arrow" />
  <line x1="400" y1="340" x2="400" y2="370" class="arrow" />
  <line x1="400" y1="420" x2="400" y2="450" class="arrow" />
  <line x1="400" y1="500" x2="400" y2="530" class="arrow" />
  <line x1="400" y1="580" x2="400" y2="610" class="arrow" />
  <line x1="400" y1="660" x2="400" y2="690" class="arrow" />
  
  <!-- Decision arrows -->
  <line x1="450" y1="720" x2="520" y2="720" class="arrow" />
  <text x="485" y="710" class="text" font-size="10" fill="#388e3c">Yes</text>
  
  <line x1="350" y1="720" x2="280" y2="720" class="arrow" />
  <line x1="280" y1="720" x2="280" y2="895" class="arrow" />
  <line x1="280" y1="895" x2="320" y2="895" class="arrow" />
  <text x="315" y="710" class="text" font-size="10" fill="#f57c00">No</text>
  
  <!-- ALB flow arrows -->
  <line x1="600" y1="745" x2="600" y2="775" class="arrow" />
  <line x1="600" y1="825" x2="600" y2="895" class="arrow" />
  <line x1="520" y1="895" x2="480" y2="895" class="arrow" />
  
  <!-- Final arrows -->
  <line x1="400" y1="920" x2="400" y2="950" class="arrow" />
  <line x1="400" y1="1000" x2="400" y2="1025" class="arrow" />
  
  <!-- Side annotations -->
  <text x="50" y="200" class="text" font-size="11" fill="#666" text-anchor="start">Setup Phase</text>
  <line x1="40" y1="210" x2="40" y2="340" stroke="#666" stroke-width="1" stroke-dasharray="5,5" />
  
  <text x="50" y="420" class="text" font-size="11" fill="#666" text-anchor="start">Configuration</text>
  <line x1="40" y1="430" x2="40" y2="580" stroke="#666" stroke-width="1" stroke-dasharray="5,5" />
  
  <text x="50" y="650" class="text" font-size="11" fill="#666" text-anchor="start">Deployment</text>
  <line x1="40" y1="660" x2="40" y2="870" stroke="#666" stroke-width="1" stroke-dasharray="5,5" />
  
  <text x="50" y="950" class="text" font-size="11" fill="#666" text-anchor="start">Operations</text>
  <line x1="40" y1="960" x2="40" y2="1000" stroke="#666" stroke-width="1" stroke-dasharray="5,5" />
  
  <!-- Legend -->
  <rect x="550" y="50" width="200" height="120" fill="none" stroke="#ccc" stroke-width="1" rx="5" />
  <text x="650" y="70" class="text" font-weight="bold">Legend</text>
  
  <rect x="560" y="80" width="30" height="15" class="box" />
  <text x="600" y="87" class="text" font-size="10" text-anchor="start">AWS Setup</text>
  
  <rect x="560" y="100" width="30" height="15" class="process" />
  <text x="600" y="107" class="text" font-size="10" text-anchor="start">Development</text>
  
  <polygon points="560,120 575,127 560,134 545,127" class="decision" />
  <text x="600" y="127" class="text" font-size="10" text-anchor="start">Decision Point</text>
  
  <ellipse cx="575" cy="150" rx="15" ry="8" class="start-end" />
  <text x="600" y="150" class="text" font-size="10" text-anchor="start">Start/End</text>
  
</svg>